(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{557:function(s,a,e){"use strict";e.r(a);var t=e(2),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"第一章-samba的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章-samba的安装"}},[s._v("#")]),s._v(" 第一章 samba的安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" samba\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" smbfs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cifs-utils\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("执行第二命令时出现了如下的错误\n正在读取软件包列表... 完成\n正在分析软件包的依赖关系树"),a("br"),s._v("\n正在读取状态信息... 完成"),a("br"),s._v("\n现在没有可用的软件包 smbfs，但是它被其它的软件包引用了。\n这可能意味着这个缺失的软件包可能已被废弃，\n或者只能在其他发布源中找到\n可是下列软件包取代了它：\ncifs-utils\nE: 软件包 smbfs 没有可供安装的候选者\n然后我果断用cifs-utils代替smbfs，就成功了")]),s._v(" "),a("h2",{attrs:{id:"第二章-创建共享目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-创建共享目录"}},[s._v("#")]),s._v(" 第二章 创建共享目录")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/linux/share\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /home/linux/share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"第三章-创建samba配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章-创建samba配置文件"}},[s._v("#")]),s._v(" 第三章 创建Samba配置文件:")]),s._v(" "),a("h3",{attrs:{id:"_3-1-保存现有的配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-保存现有的配置文件"}},[s._v("#")]),s._v(" 3.1 保存现有的配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/samba/smb.conf /etc/samba/smb.conf.bak\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-2-修改现配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-修改现配置文件"}},[s._v("#")]),s._v(" 3.2 修改现配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/samba/smb.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这里分为两种方式:\n(1) share模式就是，所有的用户都可以直接访问不需要用户名和密码，无需samba用户就可以访问服务器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[Global]\n设置security = share \n在smb.conf最后添加\n[share]\n  path = /home/linux/share\n  available = yes\n  browseable = yes\n  public = yes\n  writable = yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("(2) user级别的samba则需以samba用户和密码才能访问\n找到 security = share 将它改成 security = user\n在smb.conf最后添加")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[share]\n  path = /home/linux/share\n  available = yes\n  browseable = yes\n  public = no\n  writable = yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"第四章-创建samba帐户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章-创建samba帐户"}},[s._v("#")]),s._v(" 第四章 创建samba帐户")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/samba/smbpasswd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" smbpasswd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" linux\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("然后会要求你输入samba帐户的密码［如果没有第四步，当你登录时会提示 session setup failed: NT_STATUS_LOGON_FAILURE］")]),s._v(" "),a("h2",{attrs:{id:"第五章-重启samba服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章-重启samba服务器"}},[s._v("#")]),s._v(" 第五章 重启samba服务器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /etc/init.d/smbd restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"第六章-创建盘符问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第六章-创建盘符问题"}},[s._v("#")]),s._v(" 第六章 创建盘符问题")]),s._v(" "),a("h3",{attrs:{id:"_6-1-问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-问题"}},[s._v("#")]),s._v(" 6.1 问题")]),s._v(" "),a("p",[s._v("最后window我的电脑->右键->映射网络驱动器，在Folder处输入共享目录的路径，例如\\192.168.174.130\\share，点击完成，此时在就会在我的电脑里多出一个盘符。\n(1)user级别的samba则需以samba用户和密码才能访问，会出现\nsamba不允许一个用户使用一个以上用户名与一个服务器或共享资源的多重连接")]),s._v(" "),a("h3",{attrs:{id:"_6-2-解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-解决方法"}},[s._v("#")]),s._v(" 6.2 解决方法")]),s._v(" "),a("p",[s._v("在windows客户端\n打开cmd\n输入 net use * /del /y")]),s._v(" "),a("h2",{attrs:{id:"第七章-附加问题1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第七章-附加问题1"}},[s._v("#")]),s._v(" 第七章 附加问题1")]),s._v(" "),a("p",[s._v("使用 samba 以读写方式共享的文件夹，为什么从其他计算机访问时所创建的文件属于 nobody / nogroup？如何更改默认属主和组？")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/samba/smb.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改配置文件如下:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("在 [global] 放入以下内容\nforce user = 帐号\nforce group = 群组\ncreate mask = 0664\ndirectory mask = 0775\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("存档，重启smbd")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smbd restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"第八章-samba的相关操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第八章-samba的相关操作命令"}},[s._v("#")]),s._v(" 第八章 samba的相关操作命令")]),s._v(" "),a("p",[s._v("(1)  查看用户")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pdbedit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("(2) 修改密码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" smbpasswd user\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("(3) 删除用户")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" smbpasswd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" user\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);