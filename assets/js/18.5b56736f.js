(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{457:function(s,a,e){s.exports=e.p+"assets/img/NTP.c03d8e1d.png"},458:function(s,a,e){s.exports=e.p+"assets/img/server-a.49d27bc5.png"},459:function(s,a,e){s.exports=e.p+"assets/img/server-b.c03d8e1d.png"},460:function(s,a,e){s.exports=e.p+"assets/img/error.bba5aea1.png"},561:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"第一章-vmware-workstation-虚拟机环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章-vmware-workstation-虚拟机环境"}},[s._v("#")]),s._v(" 第一章 VMware Workstation 虚拟机环境")]),s._v(" "),a("h3",{attrs:{id:"_1-1-ntp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ntp"}},[s._v("#")]),s._v(" 1.1 NTP")]),s._v(" "),a("p",[s._v("RHEL7.1:NTP-Server+YUM 源(http):192.168.11.253/24")]),s._v(" "),a("p",[a("img",{attrs:{src:e(457),alt:"NTP主机"}})]),s._v(" "),a("h3",{attrs:{id:"_1-2-server-a"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-server-a"}},[s._v("#")]),s._v(" 1.2 server-a")]),s._v(" "),a("p",[s._v("RHEL7.1:控制节点+计算节点:192.168.11.10/24")]),s._v(" "),a("p",[a("img",{attrs:{src:e(458),alt:"server-a主机"}})]),s._v(" "),a("h3",{attrs:{id:"_1-3-server-b"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-server-b"}},[s._v("#")]),s._v(" 1.3 server-b")]),s._v(" "),a("p",[s._v("RHEL7.1:计算节点:192.168.11.11/24")]),s._v(" "),a("p",[a("img",{attrs:{src:e(459),alt:"server-b主机"}})]),s._v(" "),a("h2",{attrs:{id:"第二章-ntp配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-ntp配置"}},[s._v("#")]),s._v(" 第二章 NTP配置")]),s._v(" "),a("h3",{attrs:{id:"_2-1-初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-初始化"}},[s._v("#")]),s._v(" 2.1 初始化")]),s._v(" "),a("h4",{attrs:{id:"_2-1-1-设置主机名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-设置主机名"}},[s._v("#")]),s._v(" 2.1.1 设置主机名")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hostname\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NTP")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-1-2-关闭-selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-关闭-selinux"}},[s._v("#")]),s._v(" 2.1.2 关闭 SELINUX")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("  /etc/selinux/config\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SELINUX=disabled           #更改此参数")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-1-3-配置ip地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-配置ip地址"}},[s._v("#")]),s._v(" 2.1.3 配置IP地址")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-eno16777736 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("TYPE=Ethernet\nBOOTPROTO=none\nIPADDR=192.168.11.253\nNETMASK=255.255.255.0 \nNAME=eno16777736 \nDEVICE=eno16777736 \nONBOOT=yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"_2-1-4-禁止-networkmanager-开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-禁止-networkmanager-开机自启动"}},[s._v("#")]),s._v(" 2.1.4 禁止 NetworkManager 开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable NetworkManager\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-1-5-禁止防火墙服务开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-禁止防火墙服务开机自启动"}},[s._v("#")]),s._v(" 2.1.5 禁止防火墙服务开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-1-6-停止防火墙服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-6-停止防火墙服务"}},[s._v("#")]),s._v(" 2.1.6 停止防火墙服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl stop firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-1-7-检查防火墙服务状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-7-检查防火墙服务状态"}},[s._v("#")]),s._v(" 2.1.7 检查防火墙服务状态")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl status firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-1-8-重启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-8-重启"}},[s._v("#")]),s._v(" 2.1.8 重启")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-2-搭建-本地yum-源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-搭建-本地yum-源"}},[s._v("#")]),s._v(" 2.2 搭建 本地YUM 源")]),s._v(" "),a("h4",{attrs:{id:"_2-2-1-上传-iso"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-上传-iso"}},[s._v("#")]),s._v(" 2.2.1 上传 ISO")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /iso\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#传 rhel-server-7.1-x86_64-dvd.iso 系统安装光盘 ISO 文件至 ntp 的 iso 目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再传 RHEL7OSP-6.0-2015-02-23.2-x86_64.iso 红帽 OpenStack 安装光盘 ISO 文件至 ntp 的 iso 目录")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_2-2-2-查看上传结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-查看上传结果"}},[s._v("#")]),s._v(" 2.2.2 查看上传结果")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ll /iso\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#总用量 4325980")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-rw-r--r-- 1 root root 539586560 1 月 15 22:39 RHEL7OSP-6.0-2015-02-23.2-x86_64.iso ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-rw-r--r-- 1 root root 3890216960 1 月 15 22:39 rhel-server-7.1-x86_64-dvd.iso")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_2-2-3-挂载系统安装光盘-建立临时本地-yum-仓库-安装-apache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-挂载系统安装光盘-建立临时本地-yum-仓库-安装-apache"}},[s._v("#")]),s._v(" 2.2.3 挂载系统安装光盘，建立临时本地 YUM 仓库，安装 Apache")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("建立临时目录")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /dvd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("挂载光盘")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/sr0 /dvd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("建立本地 YUM 仓库")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/yum.repos.d/dvd.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[DVD]\nname=dvd\nbaseurl=file:///dvd\nenabled=1\ngpgcheck=0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("测试本地仓库可用性")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum makecache "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" yum repolist all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("安装 Apache")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" httpd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启动 httpd 服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl start httpd.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看 httpd 服务状态")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl status httpd.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("设置 httpd 服务开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" httpd.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-3-搭建基于-http-的网络-yum-源仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-搭建基于-http-的网络-yum-源仓库"}},[s._v("#")]),s._v(" 2.3 搭建基于 http 的网络 YUM 源仓库")]),s._v(" "),a("h4",{attrs:{id:"_2-3-1-建立发布目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-建立发布目录"}},[s._v("#")]),s._v(" 2.3.1 建立发布目录")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /var/www/html/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("dvd,openstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-3-2-设置开机自动挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-设置开机自动挂载"}},[s._v("#")]),s._v(" 2.3.2 设置开机自动挂载")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/fstab\n#添加两行\n/iso/RHEL7OSP-6.0-2015-02-23.2-x86_64.iso /var/www/html/openstack iso9660 defaults,loop,ro 0 0\n/iso/rhel-server-7.1-x86_64-dvd.iso /var/www/html/dvd iso9660 defaults,loop,ro 0 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_2-3-3-挂载-iso"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-挂载-iso"}},[s._v("#")]),s._v(" 2.3.3 挂载 ISO")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mount -a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-3-4-测试挂载结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-测试挂载结果"}},[s._v("#")]),s._v(" 2.3.4 测试挂载结果")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("df\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-3-5-配置基于-http-的网络-yum-源仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-配置基于-http-的网络-yum-源仓库"}},[s._v("#")]),s._v(" 2.3.5 配置基于 http 的网络 YUM 源仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/yum.repos.d/dvd.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[DVD]\nname=DVD baseurl=http://192.168.11.253/dvd/ enabled=1\ngpgcheck=0\n[root@ntp ~]# vim /etc/yum.repos.d/openstack.repo [RH7-RHOS-6.0]\nname=RH7-RHOS-6.0 baseurl=http://192.168.11.253/openstack/RH7-RHOS-6.0/\nenabled=1 gpgcheck=0\n[RH7-RHOS-6.0-Installer]\nname=RH7-RHOS-6.0-Installer baseurl=http://192.168.11.253/openstack/RH7-RHOS-6.0-Installer/ enabled=1\ngpgcheck=0\n[RHEL7-Errata]\nname=RHEL7-Errata baseurl=http://192.168.11.253/openstack/RHEL7-Errata/ enabled=1\ngpgcheck=0\n[RHEL-7-RHSCL-1.2]\nname=RHEL-7-RHSCL-1.2 baseurl=http://192.168.11.253/openstack/RHEL-7-RHSCL-1.2/ enabled=1\ngpgcheck=0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"_2-3-6-清空本地-yum-缓存数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-6-清空本地-yum-缓存数据"}},[s._v("#")]),s._v(" 2.3.6 清空本地 YUM 缓存数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum clean all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_2-3-7-重建-yum-缓存并测试网络-yum-源仓库可用性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-7-重建-yum-缓存并测试网络-yum-源仓库可用性"}},[s._v("#")]),s._v(" 2.3.7 重建 YUM 缓存并测试网络 YUM 源仓库可用性")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum makecache ; yum repolist all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-4-传递仓库指向文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-传递仓库指向文件"}},[s._v("#")]),s._v(" 2.4 传递仓库指向文件")]),s._v(" "),a("p",[s._v("利用 SSH 的客户端程序 SCP 将仓库指向文件传送至控制节点(192.168.11.10)和计算节点 (192.168.11.11)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@ntp ~]# scp /etc/yum.repos.d/dvd.repo root@192.168.11.10:/etc/yum.repos.d/dvd.repo \n[root@ntp ~]# scp /etc/yum.repos.d/dvd.repo root@192.168.11.11:/etc/yum.repos.d/dvd.repo \n[root@ntp ~]# scp /etc/yum.repos.d/openstack.repo root@192.168.11.10:/etc/yum.repos.d/openstack.repo \n[root@ntp ~]# scp /etc/yum.repos.d/openstack.repo root@192.168.11.11:/etc/yum.repos.d/openstack.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_2-5-搭建-ntp-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-搭建-ntp-服务"}},[s._v("#")]),s._v(" 2.5 搭建 NTP 服务")]),s._v(" "),a("h4",{attrs:{id:"_2-5-1-查询服务软件包的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-查询服务软件包的安装"}},[s._v("#")]),s._v(" 2.5.1 查询服务软件包的安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rpm -qa | grep ntp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-5-2-安装服务软件包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-安装服务软件包"}},[s._v("#")]),s._v(" 2.5.2 安装服务软件包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum -y install ntp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-5-3-确认服务软件已安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-确认服务软件已安装"}},[s._v("#")]),s._v(" 2.5.3 确认服务软件已安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" yum list ntp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-5-4-修改-ntp-服务的主配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-4-修改-ntp-服务的主配置文件"}},[s._v("#")]),s._v(" 2.5.4 修改 NTP 服务的主配置文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@ntp ~]# vim /etc/ntp.conf\n注释以下四行\n#server 0.rhel.pool.ntp.org iburst \n#server 1.rhel.pool.ntp.org iburst \n#server 2.rhel.pool.ntp.org iburst \n#server 3.rhel.pool.ntp.org iburst \n添加以下两行\nserver 127.127.1.0\nfudge 127.127.1.0 stratum 10\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"_2-5-5-启动-ntp-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-5-启动-ntp-服务"}},[s._v("#")]),s._v(" 2.5.5 启动 NTP 服务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl start ntpd\nsystemctl enable ntpd\nsystemctl status ntpd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_2-5-6-测试-ntp-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-6-测试-ntp-服务"}},[s._v("#")]),s._v(" 2.5.6 测试 NTP 服务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@ntp ~]# ntpq -p\nremote refid st t when poll reach delay offset jitter\n============================================================================== \n*LOCAL(0) .LOCL. 10 l 15 64 377 0.000 0.000 0.000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"第三章-server-b-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章-server-b-配置"}},[s._v("#")]),s._v(" 第三章 server-b 配置")]),s._v(" "),a("h3",{attrs:{id:"_3-1-初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-初始化"}},[s._v("#")]),s._v(" 3.1 初始化")]),s._v(" "),a("h4",{attrs:{id:"_3-1-1-设置主机名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-设置主机名"}},[s._v("#")]),s._v(" 3.1.1 设置主机名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/hostname\n#server-b\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-1-2-关闭-selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-关闭-selinux"}},[s._v("#")]),s._v(" 3.1.2 关闭 SELINUX")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("  /etc/selinux/config\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SELINUX=disabled           #更改此参数")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-1-3-配置ip地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-配置ip地址"}},[s._v("#")]),s._v(" 3.1.3 配置IP地址")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-eno16777736 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("TYPE=Ethernet\nBOOTPROTO=none\nIPADDR=192.168.11.11\nNETMASK=255.255.255.0 \nGATEWAY=192.168.11.253 \nNAME=eno16777736 \nDEVICE=eno16777736 \nONBOOT=yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"_3-1-4-禁止-networkmanager-开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-禁止-networkmanager-开机自启动"}},[s._v("#")]),s._v(" 3.1.4 禁止 NetworkManager 开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable NetworkManager\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-1-5-禁止防火墙服务开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-5-禁止防火墙服务开机自启动"}},[s._v("#")]),s._v(" 3.1.5 禁止防火墙服务开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-1-6-停止防火墙服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-6-停止防火墙服务"}},[s._v("#")]),s._v(" 3.1.6 停止防火墙服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl stop firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-1-7-检查防火墙服务状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-7-检查防火墙服务状态"}},[s._v("#")]),s._v(" 3.1.7 检查防火墙服务状态")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl status firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-1-8-重启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-8-重启"}},[s._v("#")]),s._v(" 3.1.8 重启")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-2-测试网络-yum-源仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-测试网络-yum-源仓库"}},[s._v("#")]),s._v(" 3.2 测试网络 YUM 源仓库")]),s._v(" "),a("h4",{attrs:{id:"_3-2-1-确认仓库指向文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-确认仓库指向文件"}},[s._v("#")]),s._v(" 3.2.1 确认仓库指向文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ll /etc/yum.repos.d/\n#总用量 12\n#-rw-r--r-- 1 root root 71 1 月 15 23:06 dvd.repo \n#-rw-r--r-- 1 root root 478 1 月 15 23:06 openstack.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3-2-2-重建-yum-缓存和测试仓库可用性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-重建-yum-缓存和测试仓库可用性"}},[s._v("#")]),s._v(" 3.2.2 重建 YUM 缓存和测试仓库可用性")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum makecache ; yum repolist all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-3-测试-ntp-服务器同步时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-测试-ntp-服务器同步时间"}},[s._v("#")]),s._v(" 3.3 测试 NTP 服务器同步时间")]),s._v(" "),a("h4",{attrs:{id:"_3-3-1-显示当前时间-应该是较为正确的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-显示当前时间-应该是较为正确的时间"}},[s._v("#")]),s._v(" 3.3.1 显示当前时间(应该是较为正确的时间)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-3-2-将系统当前时间修改为-错误-的时间-故意的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-将系统当前时间修改为-错误-的时间-故意的"}},[s._v("#")]),s._v(" 3.3.2 将系统当前时间修改为“错误”的时间(故意的)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('date -s "2019-1-3 3:3:3"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-3-3-确认错误时间已生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-确认错误时间已生效"}},[s._v("#")]),s._v(" 3.3.3 确认错误时间已生效")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-3-4-使用-ntp-客户端程序-ntpdate-同步时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-使用-ntp-客户端程序-ntpdate-同步时间"}},[s._v("#")]),s._v(" 3.3.4 使用 ntp 客户端程序 ntpdate 同步时间")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ntpdate 192.168.11.253\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-3-5-再次核对时间-应该已在同步过程中被修改为正确的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-5-再次核对时间-应该已在同步过程中被修改为正确的时间"}},[s._v("#")]),s._v(" 3.3.5 再次核对时间(应该已在同步过程中被修改为正确的时间)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"第四章-server-a-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章-server-a-配置"}},[s._v("#")]),s._v(" 第四章 server-a 配置")]),s._v(" "),a("h3",{attrs:{id:"_4-1-初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-初始化"}},[s._v("#")]),s._v(" 4.1 初始化")]),s._v(" "),a("h4",{attrs:{id:"_4-1-1-设置主机名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-设置主机名"}},[s._v("#")]),s._v(" 4.1.1 设置主机名")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hostname\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NTP")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_4-1-2-关闭-selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-关闭-selinux"}},[s._v("#")]),s._v(" 4.1.2 关闭 SELINUX")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("  /etc/selinux/config\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SELINUX=disabled           #更改此参数")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_4-1-3-配置ip地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-配置ip地址"}},[s._v("#")]),s._v(" 4.1.3 配置IP地址")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-eno16777736 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("TYPE=Ethernet\nBOOTPROTO=none\nIPADDR=192.168.11.253\nNETMASK=255.255.255.0 \nNAME=eno16777736 \nDEVICE=eno16777736 \nONBOOT=yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"_4-1-4-禁止-networkmanager-开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-4-禁止-networkmanager-开机自启动"}},[s._v("#")]),s._v(" 4.1.4 禁止 NetworkManager 开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable NetworkManager\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-1-5-禁止防火墙服务开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-5-禁止防火墙服务开机自启动"}},[s._v("#")]),s._v(" 4.1.5 禁止防火墙服务开机自启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-1-6-停止防火墙服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-6-停止防火墙服务"}},[s._v("#")]),s._v(" 4.1.6 停止防火墙服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl stop firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-1-7-检查防火墙服务状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-7-检查防火墙服务状态"}},[s._v("#")]),s._v(" 4.1.7 检查防火墙服务状态")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl status firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-1-8-重启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-8-重启"}},[s._v("#")]),s._v(" 4.1.8 重启")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-2-测试网络-yum-源仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-测试网络-yum-源仓库"}},[s._v("#")]),s._v(" 4.2 测试网络 YUM 源仓库")]),s._v(" "),a("h4",{attrs:{id:"_4-2-1-确认仓库指向文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-确认仓库指向文件"}},[s._v("#")]),s._v(" 4.2.1 确认仓库指向文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ll /etc/yum.repos.d/\n#总用量 12\n#-rw-r--r-- 1 root root 71 1 月 15 23:06 dvd.repo \n#-rw-r--r-- 1 root root 478 1 月 15 23:06 openstack.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_4-2-2-重建-yum-缓存和测试仓库可用性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-重建-yum-缓存和测试仓库可用性"}},[s._v("#")]),s._v(" 4.2.2 重建 YUM 缓存和测试仓库可用性")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum makecache ; yum repolist all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-3-测试-ntp-服务器同步时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-测试-ntp-服务器同步时间"}},[s._v("#")]),s._v(" 4.3 测试 NTP 服务器同步时间")]),s._v(" "),a("h4",{attrs:{id:"_4-3-1-显示当前时间-应该是较为正确的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-显示当前时间-应该是较为正确的时间"}},[s._v("#")]),s._v(" 4.3.1 显示当前时间(应该是较为正确的时间)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3-2-将系统当前时间修改为-错误-的时间-故意的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-将系统当前时间修改为-错误-的时间-故意的"}},[s._v("#")]),s._v(" 4.3.2 将系统当前时间修改为“错误”的时间(故意的)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('date -s "2019-1-3 3:3:3"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3-3-确认错误时间已生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-确认错误时间已生效"}},[s._v("#")]),s._v(" 4.3.3 确认错误时间已生效")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3-4-使用-ntp-客户端程序-ntpdate-同步时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-4-使用-ntp-客户端程序-ntpdate-同步时间"}},[s._v("#")]),s._v(" 4.3.4 使用 ntp 客户端程序 ntpdate 同步时间")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ntpdate 192.168.11.253\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3-5-再次核对时间-应该已在同步过程中被修改为正确的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-再次核对时间-应该已在同步过程中被修改为正确的时间"}},[s._v("#")]),s._v(" 4.3.5 再次核对时间(应该已在同步过程中被修改为正确的时间)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("date\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"第五章-安装红帽-openstack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章-安装红帽-openstack"}},[s._v("#")]),s._v(" 第五章 安装红帽 OpenStack")]),s._v(" "),a("h3",{attrs:{id:"系统更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统更新"}},[s._v("#")]),s._v(" 系统更新")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"安装布署工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装布署工具"}},[s._v("#")]),s._v(" 安装布署工具")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo yum install -y https://www.rdoproject.org/repos/rdo-release.rpm\nyum install openstack-packstack\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"利用布署工具生成自动应答文件-文件名可任意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#利用布署工具生成自动应答文件-文件名可任意"}},[s._v("#")]),s._v(" 利用布署工具生成自动应答文件(文件名可任意)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("packstack --gen-answer-file=/root/ans.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"修改自动应答文件实现自动化布署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改自动应答文件实现自动化布署"}},[s._v("#")]),s._v(" 修改自动应答文件实现自动化布署")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@server-a ~]# vim /root/ans.txt #注意以下几项\nCONFIG_NTP_SERVERS=192.168.11.253       #NTP 服务器 IP\nCONFIG_CONTROLLER_HOST=192.168.11.10     #控制节点 IP\nCONFIG_COMPUTE_HOSTS=192.168.11.10,192.168.11.11 (建立多计算节点，此处控制节点复用)       #计算节点 IP\nCONFIG_NETWORK_HOSTS=192.168.11.10 (暂时由控制节点担当此角色)   #网络节点 IP\nCONFIG_KEYSTONE_ADMIN_PW=redhat      #WEB 界面管理员口令\nCONFIG_HORIZON_SSL=y                  #加密通信 WEB 界面\n(默认“n”，即 http://，修改“y”，即 https://) \nCONFIG_PROVISION_DEMO=n              #不创建演示环境，默认为"y"\n创建实例(演示时可采用)，修改"n"，不创建实例(利于学习管理过程)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"使用自动应答文件安装红帽-openstack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用自动应答文件安装红帽-openstack"}},[s._v("#")]),s._v(" 使用自动应答文件安装红帽 OpenStack")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("packstack --answer-file=/root/ans.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装过程中如遇以下错误，可忽略，重新执行安装命令即可")]),s._v(" "),a("p",[a("img",{attrs:{src:e(460),alt:"安装报错"}})]),s._v(" "),a("p",[s._v("看到如下提示即完成安装")])])}),[],!1,null,null,null);a.default=r.exports}}]);