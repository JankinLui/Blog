(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{500:function(t,a,r){t.exports=r.p+"assets/img/raid0.c4749709.png"},501:function(t,a,r){t.exports=r.p+"assets/img/raid1.02104070.png"},502:function(t,a,r){t.exports=r.p+"assets/img/raid5.e80f91a6.png"},503:function(t,a,r){t.exports=r.p+"assets/img/raid10.1f80aea7.png"},504:function(t,a,r){t.exports=r.p+"assets/img/fdisk.991939af.png"},505:function(t,a,r){t.exports=r.p+"assets/img/MBR+DPT.93746f7b.png"},506:function(t,a,r){t.exports=r.p+"assets/img/VG.8e9026ca.png"},576:function(t,a,r){"use strict";r.r(a);var e=r(2),_=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"第一章-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章-简介"}},[t._v("#")]),t._v(" 第一章 简介")]),t._v(" "),a("ol",[a("li",[t._v("磁盘分区方法（备份服务器 - 存储服务器 - 数据库服务器）")]),t._v(" "),a("li",[t._v("实现挂载使用（实现开机自动挂载 /etc/fstab   /etc.rc.local）")]),t._v(" "),a("li",[t._v("swap分区如何调整大小（案例：Java程序比较耗费内存 临时增加swap空间）")]),t._v(" "),a("li",[t._v("企业常见问题：磁盘空间满了如何处理")])]),t._v(" "),a("h2",{attrs:{id:"第二章-linux系统磁盘概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-linux系统磁盘概念"}},[t._v("#")]),t._v(" 第二章 Linux系统磁盘概念")]),t._v(" "),a("p",[t._v("磁盘的结构体系")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("磁盘的物理结构（外部结构 - 内部结构）工作原理")])]),t._v(" "),a("li",[a("p",[t._v("磁盘阵列说明（raid0 raid1 raid5 raid10 raid01）")]),t._v(" "),a("p",[t._v("磁盘阵列如何配置")]),t._v(" "),a("p",[t._v("配置LVM （L逻辑 - V卷组 - M管理）逻辑卷管理----\x3e实现可以随意调整磁盘分区大小")])]),t._v(" "),a("li",[a("p",[t._v("磁盘分区概念")]),t._v(" "),a("p",[t._v("给容量较小的磁盘进行分区：小于2T----fdisk")]),t._v(" "),a("p",[t._v("给容量较大的磁盘进行分区：大于2T----parted")])]),t._v(" "),a("li",[a("p",[t._v("磁盘格式化操作（创建文件系统）")])]),t._v(" "),a("li",[a("p",[t._v("磁盘维护管理知识（如何使用磁盘----挂载使用）")])])]),t._v(" "),a("h2",{attrs:{id:"第三章-磁盘层次结构详细说明-物理结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章-磁盘层次结构详细说明-物理结构"}},[t._v("#")]),t._v(" 第三章 磁盘层次结构详细说明--物理结构")]),t._v(" "),a("h3",{attrs:{id:"_3-1-磁盘的外部结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-磁盘的外部结构"}},[t._v("#")]),t._v(" 3.1 磁盘的外部结构")]),t._v(" "),a("p",[t._v("看得见摸得着的结构")]),t._v(" "),a("h3",{attrs:{id:"_3-2-组成部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-组成部分"}},[t._v("#")]),t._v(" 3.2 组成部分")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("磁盘主轴")]),t._v(" "),a("p",[t._v("决定磁盘转速 （rpm-round per minute）")]),t._v(" "),a("ul",[a("li",[t._v("家用磁盘转速 7200 rpm  5400 rpm")]),t._v(" "),a("li",[t._v("企业磁盘转速 15k rpm   10k rpm")])])]),t._v(" "),a("li",[a("p",[t._v("磁盘盘片")]),t._v(" "),a("p",[t._v("用于储存数据")])]),t._v(" "),a("li",[a("p",[t._v("磁盘磁头")]),t._v(" "),a("p",[t._v("用于读取数据")])]),t._v(" "),a("li",[a("p",[t._v("磁盘接口")]),t._v(" "),a("ul",[a("li",[t._v("用于连接主板")]),t._v(" "),a("li",[t._v("用于连接阵列卡")])])])]),t._v(" "),a("h3",{attrs:{id:"_3-3-磁盘内部结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-磁盘内部结构"}},[t._v("#")]),t._v(" 3.3 磁盘内部结构")]),t._v(" "),a("p",[t._v("看不见的结构信息")]),t._v(" "),a("h3",{attrs:{id:"_3-4-组成部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-组成部分"}},[t._v("#")]),t._v(" 3.4 组成部分")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("磁盘（Disk）")])]),t._v(" "),a("li",[a("p",[t._v("磁头（Head）")]),t._v(" "),a("p",[t._v("作用说明：用来写入和读取数据")]),t._v(" "),a("p",[t._v("特点说明：盘面数量等于磁头数量")]),t._v(" "),a("p",[t._v("工作原理：采用径向运动读写数据")])]),t._v(" "),a("li",[a("p",[t._v("磁道（Track）")]),t._v(" "),a("p",[t._v("作用说明：用来储存用户数据")]),t._v(" "),a("p",[t._v("特点说明：由多个同心圆组成")]),t._v(" "),a("ul",[a("li",[t._v("储存计数：最外面同心圆为0磁道")])]),t._v(" "),a("p",[t._v("工作原理：磁盘默认按照磁道寻找数据")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("重点原理：磁头径向运动为机械运动（寻道）")])]),t._v(" "),a("li",[a("p",[t._v("原理特点：磁头机械运动慢")])])])]),t._v(" "),a("li",[a("p",[t._v("扇区（Sector）")]),t._v(" "),a("p",[t._v("作用特点：用来储存用户数据")]),t._v(" "),a("p",[t._v("特点说明：磁盘储存最小单位")]),t._v(" "),a("p",[t._v("储存计数：默认磁盘扇区从1扇区开始，扇区大小为512字节系统最小储存单位是block")])]),t._v(" "),a("li",[a("p",[t._v("柱面（Cylinder）")]),t._v(" "),a("p",[t._v("作用特点：用来储存用户数据")]),t._v(" "),a("p",[t._v("特点说明：不同盘面上相同的磁道组成（圆柱体）")]),t._v(" "),a("p",[t._v("工作原理：磁盘默认按照柱面进行读写")]),t._v(" "),a("ul",[a("li",[t._v("重点原理：磁头之间切换为电子切换")]),t._v(" "),a("li",[t._v("原理特点：磁头电子切换较快")])])]),t._v(" "),a("li",[a("p",[t._v("单元块（Units）")]),t._v(" "),a("p",[t._v("作用说明：用来储存用户数据")]),t._v(" "),a("p",[t._v("特点说明：表示单个柱面大小")])])]),t._v(" "),a("h2",{attrs:{id:"第四章-磁盘层次结构详细说明-磁盘阵列raid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章-磁盘层次结构详细说明-磁盘阵列raid"}},[t._v("#")]),t._v(" 第四章 磁盘层次结构详细说明--磁盘阵列raid")]),t._v(" "),a("h3",{attrs:{id:"磁盘阵列有什么用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘阵列有什么用"}},[t._v("#")]),t._v(" 磁盘阵列有什么用？")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("提高磁盘储存效率")])]),t._v(" "),a("li",[a("p",[t._v("提高磁盘储存安全")])]),t._v(" "),a("li",[a("p",[t._v("提高磁盘储存容量")])])]),t._v(" "),a("h3",{attrs:{id:"_4-1-raid0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-raid0"}},[t._v("#")]),t._v(" 4.1 RAID0")]),t._v(" "),a("p",[a("img",{attrs:{src:r(500),alt:"raid0"}})]),t._v(" "),a("p",[t._v("RAID 0亦称为带区"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%8D%B7_(%E8%A8%88%E7%AE%97)",target:"_blank",rel:"noopener noreferrer"}},[t._v("卷"),a("OutboundLink")],1),t._v("。它将两个以上的磁盘并联起来，成为一个大容量的磁盘。在存放数据时，分段后分散存储在这些磁盘中，因为读写时都可以并行处理，所以在所有的级别中，RAID 0的速度是最快的。但是RAID 0既没有冗余功能，也不具备容错能力，如果一个磁盘（物理）损坏，所有数据都会丢失，危险程度与"),a("a",{attrs:{href:"https://zh.wikipedia.org/zh-cn/RAID#JBOD",target:"_blank",rel:"noopener noreferrer"}},[t._v("JBOD"),a("OutboundLink")],1),t._v("相当。")]),t._v(" "),a("h3",{attrs:{id:"_4-2-raid1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-raid1"}},[t._v("#")]),t._v(" 4.2 RAID1")]),t._v(" "),a("p",[a("img",{attrs:{src:r(501),alt:"raid1"}})]),t._v(" "),a("p",[t._v("两组以上的N个磁盘相互作"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E7%A3%81%E7%A2%9F%E9%8F%A1%E5%83%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("镜像"),a("OutboundLink")],1),t._v("，在一些多线程操作系统中能有很好的读取速度，理论上读取速度等于硬盘数量的倍数，与RAID 0相同。另外写入速度有微小的降低。只要一个磁盘正常即可维持运作，可靠性最高。其原理为在主硬盘上存放数据的同时也在镜像硬盘上写一样的数据。当主硬盘（物理）损坏时，镜像硬盘则代替主硬盘的工作。因为有镜像硬盘做数据备份，所以RAID 1的数据安全性在所有的RAID级别上来说是最好的。但无论用多少磁盘做RAID 1，仅算一个磁盘的容量，是所有RAID中磁盘利用率最低的一个级别。")]),t._v(" "),a("p",[t._v("如果用两个不同大小的磁盘建RAID 1，可用空间为较小的那个磁盘，较大的磁盘多出来的空间也可以分割成一个区来使用，不会造成浪费。")]),t._v(" "),a("p",[t._v("RAID 1没有校验机制。如果用两个磁盘组成RAID 1阵列，如果两个硬盘上的数据不知怎么的变得不一致，RAID 1不知道应该相信哪一个硬盘，这就是"),a("a",{attrs:{href:"https://zh.wikipedia.org/w/index.php?title=%E5%A4%A7%E8%84%91%E5%88%86%E8%A3%82&action=edit&redlink=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("大脑分裂"),a("OutboundLink")],1),t._v("的情况。事实上，RAID 1的磁盘数量越多，越有可能其中某个磁盘的数据变得不一致（但仍然工作），RAID 1只会从第一个工作的硬盘里提供数据，没有办法检测到底哪个硬盘的数据不对.")]),t._v(" "),a("h3",{attrs:{id:"_4-3-raid5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-raid5"}},[t._v("#")]),t._v(" 4.3 RAID5")]),t._v(" "),a("p",[a("img",{attrs:{src:r(502),alt:"raid5"}})]),t._v(" "),a("p",[t._v("RAID 5是一种储存性能、数据安全和存储成本兼顾的存储解决方案。它使用的是Disk Striping（硬盘分割）技术。")]),t._v(" "),a("p",[t._v("RAID 5使用“"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E4%BD%8D",target:"_blank",rel:"noopener noreferrer"}},[t._v("奇偶校验位"),a("OutboundLink")],1),t._v("”。与 RAID-4 一样，有效大小是 N-1 个磁盘的大小。 然而，由于奇偶校验信息也在 N 个驱动器之间均匀分布，因此避免了每次写入都必须更新奇偶校验磁盘的瓶颈。防止单个磁盘故障，而且访问速度快["),a("a",{attrs:{href:"https://zh.wikipedia.org/zh-cn/RAID#cite_note-RAID-5-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("2]"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("RAID 5不是对存储的数据进行备份，而是把数据和相对应的"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C",target:"_blank",rel:"noopener noreferrer"}},[t._v("奇偶校验"),a("OutboundLink")],1),t._v("信息存储到组成RAID 5的各个磁盘上，并且奇偶校验信息和相对应的数据分别存储于不同的磁盘上。当RAID 5的一个磁盘数据发生损坏后，可以利用剩下的数据和相应的奇偶校验信息去恢复被损坏的数据。RAID 5可以理解为是RAID 0和RAID 1的折衷方案。RAID 5可以为系统提供数据安全保障，但保障程度要比"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E9%8F%A1%E5%83%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("镜像"),a("OutboundLink")],1),t._v("低而磁盘空间利用率要比镜像高。RAID 5具有和RAID 0相近似的数据读取速度，只是因为多了一个奇偶校验信息，")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/System-search.svg/45px-System-search.svg.png",alt:"System-search.svg"}})]),t._v(" "),a("th",[t._v("此条目"),a("strong",[t._v("内容"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Wikipedia:%E5%87%86%E7%A1%AE%E6%80%A7%E4%BA%89%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("疑欠准确"),a("OutboundLink")],1),t._v("，有待查证。")]),t._v(" 请在"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Talk:RAID",target:"_blank",rel:"noopener noreferrer"}},[t._v("讨论页"),a("OutboundLink")],1),t._v("讨论问题所在及加以改善，若此条目仍有争议及"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Wikipedia:%E5%87%86%E7%A1%AE%E6%80%A7%E4%BA%89%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"}},[t._v("准确度"),a("OutboundLink")],1),t._v("欠佳，会被提出"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Wikipedia:%E9%A0%81%E9%9D%A2%E5%AD%98%E5%BB%A2%E8%A8%8E%E8%AB%96",target:"_blank",rel:"noopener noreferrer"}},[t._v("存废讨论"),a("OutboundLink")],1),t._v("。")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("写入数据的速度相对单独写入一块硬盘的速度略慢，若使用“回写缓存”可以让性能改善不少。同时由于多个数据对应一个奇偶校验信息，RAID 5的磁盘空间利用率要比RAID 1高，存储成本相对较便宜。")]),t._v(" "),a("p",[t._v("冗余磁盘阵列在最可能发生的单个磁盘故障情况下提供保护，在这种情况下，单个磁盘只是停止工作。这消除了构建大型 EIDE（增强型IDE） 磁盘阵列的主要障碍。")]),t._v(" "),a("p",[t._v("RAID-5 并不能完全防止其他类型的磁盘故障。 RAID-5 将在单个磁盘停止工作但导致整个 EIDE 总线发生故障（或整个 EIDE 控制器卡发生故障）但只是暂时停止运行的情况下提供有限的保护。这将暂时禁用整个 RAID-5 阵列。如果更换坏盘解决了问题，即故障没有永久损坏其他磁盘上的数据，那么 RAID-5 阵列将正常恢复。 相似的如果只是控制器卡损坏，则更换它将使 RAID-5 阵列正常恢复。 但是，如果不止一个磁盘损坏，尤其是文件或目录结构信息损坏，整个 RAID-5 阵列就会损坏。 剩余的故障模式是磁盘正在传送损坏的数据。 RAID-5 没有对此固有的保护；但是，可以在事件标头中内置对数据的纵向奇偶校验，例如校验和记录计数 (CRC)，以标记问题。")]),t._v(" "),a("p",[t._v("$"),a("img",{attrs:{src:"https://wikimedia.org/api/rest_v1/media/math/render/svg/705aa00c68d43e2ab7f94380f60dfab577f0920e",alt:"{\\begin{aligned}Size&=(N-1)\\times \\min \\left(S_{1},S_{2},\\dots ,S_{N}\\right)\\end{aligned}}"}}),t._v("$")]),t._v(" "),a("h3",{attrs:{id:"_4-4-raid10-01"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-raid10-01"}},[t._v("#")]),t._v(" 4.4 RAID10/01")]),t._v(" "),a("p",[a("img",{attrs:{src:r(503),alt:"raid10/01"}})]),t._v(" "),a("p",[t._v("RAID 10是先分割资料再镜像，再将所有硬盘分为两组，视为以RAID 1作为最低组合，然后将每组RAID 1视为一个“硬盘”组合为RAID 0运作。")]),t._v(" "),a("p",[t._v("RAID 01则是跟RAID 10的程序相反，是先镜像再将资料到分割两组硬盘。它将所有的硬盘分为两组，每组各自构成为RAID 0作为最低组合，而将两组硬盘组合为RAID 1运作。")]),t._v(" "),a("p",[t._v("当RAID 10有一个硬盘受损，其余硬盘会继续运作。RAID 01只要有一个硬盘受损，同组RAID 0的所有硬盘都会停止运作，只剩下其他组的硬盘运作，可靠性较低。如果以六个硬盘建RAID 01，镜像再用三个建RAID 0，那么坏一个硬盘便会有三个硬盘离线。因此，RAID 10远较RAID 01常用，零售"),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E4%B8%BB%E6%A9%9F%E6%9D%BF",target:"_blank",rel:"noopener noreferrer"}},[t._v("主板"),a("OutboundLink")],1),t._v("绝大部分支持RAID 0/1/5/10，但不支持RAID 01。")]),t._v(" "),a("h3",{attrs:{id:"_4-5-磁盘阵列的配置方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-磁盘阵列的配置方法"}},[t._v("#")]),t._v(" 4.5 磁盘阵列的配置方法")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("raid 0")]),t._v(" "),a("th",[t._v("储存数据效率高")]),t._v(" "),a("th",[t._v("储存安全性低")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("RAID 1")])]),t._v(" "),a("td",[t._v("储存数据效率低")]),t._v(" "),a("td",[t._v("储存安全性高")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("RAID 5")])]),t._v(" "),a("td",[t._v("储存数据效率较高")]),t._v(" "),a("td",[t._v("储存安全性较高")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("LVM")])]),t._v(" "),a("td",[t._v("实现分区可以弹性缩容 和 扩容")]),t._v(" "),a("td")])])]),t._v(" "),a("blockquote",[a("p",[t._v("说明(RAID 5)：")]),t._v(" "),a("p",[t._v("至少有3块磁盘，raid阵列中最多只能坏一块磁盘  损耗一块磁盘的容量")]),t._v(" "),a("p",[t._v("300G 300G 300G ---\x3e raid5 ---\x3e 600G")])]),t._v(" "),a("h2",{attrs:{id:"第五章-磁盘层次结构详细说明-磁盘分区方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章-磁盘层次结构详细说明-磁盘分区方法"}},[t._v("#")]),t._v(" 第五章 磁盘层次结构详细说明--磁盘分区方法")]),t._v(" "),a("h3",{attrs:{id:"_5-1-预备知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-预备知识"}},[t._v("#")]),t._v(" 5.1 预备知识")]),t._v(" "),a("h4",{attrs:{id:"_5-1-1-系统启动引导记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-系统启动引导记录"}},[t._v("#")]),t._v(" 5.1.1 系统启动引导记录")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("MBR引导记录")]),t._v(" "),a("th",[t._v("用于引导磁盘空间小于2T")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("GPT引导记录")])]),t._v(" "),a("td",[t._v("用于引导磁盘空间大于2T")])])])]),t._v(" "),a("h4",{attrs:{id:"_5-1-2-分区方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-分区方式"}},[t._v("#")]),t._v(" 5.1.2 分区方式")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("情况一")]),t._v(" "),a("p",[t._v("可以划分4个主分区    /dev/sda  /dev/sda1 . . sda4      mount /dev/sda1 /mnt")])]),t._v(" "),a("li",[a("p",[t._v("情况二")]),t._v(" "),a("p",[t._v("可以划分3个主分区    /dev/sda  /dev/sda1 . . sda3")]),t._v(" "),a("p",[t._v("可以划分一个扩展分区  扩展分区无法直接使用")]),t._v(" "),a("p",[t._v("需要在扩展分区基础上划分逻辑分区： /dev/sda5 /dev/sda6 . . .")])])]),t._v(" "),a("h3",{attrs:{id:"_5-2-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-操作"}},[t._v("#")]),t._v(" 5.2 操作")]),t._v(" "),a("h4",{attrs:{id:"_5-2-1-情况一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-情况一"}},[t._v("#")]),t._v(" 5.2.1 情况一")]),t._v(" "),a("p",[t._v("磁盘分区实践--磁盘小于2T")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("准备磁盘环境")]),t._v(" "),a("p",[t._v("准备磁盘，把磁盘插上")])]),t._v(" "),a("li",[a("p",[t._v("在系统中检查是否识别到了新的硬盘")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ll /dev/sdb\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("对磁盘进行分区处理（fdisk-- 进行分区处理 查看分区信息）")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fdisk  /dev/sdb\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("有了扩展分区才能有逻辑分区")]),t._v(" "),a("p",[a("img",{attrs:{src:r(504),alt:"fdisk"}})]),t._v(" "),a("p",[t._v("保存退出，让系统识别加载分区")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("partprobe /dev/sdb    执行这条让系统识别，在物理环境系统可能会识别不了sdb文件\nmkfs.xfs /dev/sdb1    格式化磁盘\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"_5-2-2-情况二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-情况二"}},[t._v("#")]),t._v(" 5.2.2 情况二")]),t._v(" "),a("p",[t._v("磁盘分区实践--磁盘大于2T")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("准备磁盘环境")]),t._v(" "),a("p",[t._v("准备磁盘，把磁盘插上")])]),t._v(" "),a("li",[a("p",[t._v("使用parted命令进行分区")])])]),t._v(" "),a("h2",{attrs:{id:"第六章-磁盘层次结构详细说明-格式化操作-创建文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第六章-磁盘层次结构详细说明-格式化操作-创建文件系统"}},[t._v("#")]),t._v(" 第六章 磁盘层次结构详细说明--格式化操作（创建文件系统）")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mkfs.xfs   /dev/sdb1\nmkfs -t xfs /dev/sdb2\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("创建文件系统：磁盘分区储存数据的方式")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("ext3/4")]),t._v(" "),a("th",[t._v("centos6")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("xfs")])]),t._v(" "),a("td",[a("strong",[t._v("CENTOS7")])]),t._v(" "),a("td",[t._v("格式化效率高 数据储存效率提升（数据库服务器）")])])])]),t._v(" "),a("h2",{attrs:{id:"第七章-磁盘层次结构详细说明-磁盘挂载应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第七章-磁盘层次结构详细说明-磁盘挂载应用"}},[t._v("#")]),t._v(" 第七章 磁盘层次结构详细说明--磁盘挂载应用")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mount /dev/sdb1 /mount01       挂载\nmount /dev/sdb2 /mount02\numount /dev/sdb2               卸载\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"_7-1-检查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-检查"}},[t._v("#")]),t._v(" 7.1 检查")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("df -h\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"_7-2-实现开机自动挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-实现开机自动挂载"}},[t._v("#")]),t._v(" 7.2 实现开机自动挂载")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("方法一：将挂载命令放入/etc/rc.local")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vim /etc/rc.local\nmount /dev/sdb1 /mount01   \nmount /dev/sdb2 /mount02\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("如果出错看一下rc.local源文件的权限，要有执行权限")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" chmod +x /etc/rc.d/rc.local\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("方法二：在/etc/fstab文件中设置")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("要挂载的文件")]),t._v(" "),a("th",[t._v("挂载点")]),t._v(" "),a("th",[t._v("指定的文件系统类型")]),t._v(" "),a("th",[t._v("挂载属性参数")]),t._v(" "),a("th",[t._v("是否备份磁盘")]),t._v(" "),a("th",[t._v("是否检查")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("/dev/vda1")]),t._v(" "),a("td",[t._v("/")]),t._v(" "),a("td",[t._v("ext4")]),t._v(" "),a("td",[t._v("defaults")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("1")])])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("黑洞")]),t._v(" "),a("p",[t._v("黑洞入口：/dev/null")]),t._v(" "),a("p",[t._v("黑洞出口：/dev/zero")]),t._v(" "),a("p",[t._v("#dd if=/dev/zero of=/etc/10G bs=1G count=10         //从黑洞产出一个10G的文件")])]),t._v(" "),a("h2",{attrs:{id:"第八章-调整swap分区大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第八章-调整swap分区大小"}},[t._v("#")]),t._v(" 第八章 调整swap分区大小")]),t._v(" "),a("p",[t._v("将磁盘分出一部分空间给swap分区使用")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dd if=/dev/zero of=/tmp/1G bs=100M count=10\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("将指定磁盘空间作为swap空间使用")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mkswap /tmp/1G\nswapon /tmp/1G （安装上）\nswapoff /tmp/1G  （卸载）\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"第九章-企业磁盘异常案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第九章-企业磁盘异常案例"}},[t._v("#")]),t._v(" 第九章 企业磁盘异常案例")]),t._v(" "),a("p",[t._v("磁盘满的原因")]),t._v(" "),a("ul",[a("li",[t._v("真正数据太大储存过多     block满了")]),t._v(" "),a("li",[t._v("储存了大量的小文件       inode满了")])]),t._v(" "),a("h2",{attrs:{id:"第十章-mbr-dpt-vg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第十章-mbr-dpt-vg"}},[t._v("#")]),t._v(" 第十章 MBR-DPT-VG")]),t._v(" "),a("p",[a("img",{attrs:{src:r(505),alt:"MBR+DPT"}})]),t._v(" "),a("p",[t._v("操作系统的引导过程的一个环节，系统启动时顺序 BIOS - MBR - DPT - PBR - 寻找根目录下 NTLDR(XP)/bootmgr(WIN7/Vista)/grldr(Grub)/btldr.mbr(BootLink) 等可用于引导的程序。 分区的PBR (Partition Boot Record)可以加载该分区的io.sys (dos / win9x) 或 ntldr(win2000 xp 2003) 或 bootmgr (vista / win2008 / win7) 。")]),t._v(" "),a("p",[t._v("PBR是各个分区自己的引导记录,又称分区引导记录,它是由FORMAT"),a("a",{attrs:{href:"https://baike.baidu.com/item/%E9%AB%98%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96/7596476",target:"_blank",rel:"noopener noreferrer"}},[t._v("高级格式化"),a("OutboundLink")],1),t._v("命令写在各个分区开始处第一个扇区的一段数据(比如说:主分区C:从1磁头0柱面1扇区=逻辑1扇区=绝对63扇区开始,那么C:区逻辑1扇区就是PBR所存放的位置).这段数据主要由以下几个部分组成:1.占3个字节的跳转指令；2.占8个字节的操作系统厂商标识及版本号;3. 占19个字节的分区参数表(又称BPB),里面存放着对该分区进行读写操作时所必备的参数(如该分区内每扇区所包含的字节数、每簇扇区数、每个磁道的扇区数、该分区FAT份数等)；4.占480个字节的DOS引导代码,它负责把DOS引导文件IO.SYS、MSDOS.SYS装入内存；5.占2个字节的结束标志字; 以上5个部分也正好占1个扇区 512字节，位于每个非扩展主分区及每个逻辑分区的第一个扇区；可存放小段程序。 和MBR有所不同的是：PBR扇区后面一般就紧接着存放该分区的FAT。硬盘的第一(lba 0)扇区后面空白若干扇区不用(xp默认留62扇区，vista和win7默认留1M)，然后才是各个分区。")]),t._v(" "),a("p",[t._v("我们知道硬盘"),a("a",{attrs:{href:"https://baike.baidu.com/item/MBR/10473976",target:"_blank",rel:"noopener noreferrer"}},[t._v("MBR"),a("OutboundLink")],1),t._v("负责总管硬盘分区，只有分区工具才能对它进行读写；而PBR则负责管理某个具体的分区，它是用操作系统的"),a("a",{attrs:{href:"https://baike.baidu.com/item/%E9%AB%98%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96/7596476",target:"_blank",rel:"noopener noreferrer"}},[t._v("高级格式化"),a("OutboundLink")],1),t._v('命令来写入硬盘的。在系统启动时，最先读取的硬盘信息是MBR，然后由MBR内的主引导程序读出PBR，最后才由PBR内的DOS引导代码读取操作系统的引导程序，其中任何一个环节出了问题，操作系统都无法正常启动成功，如果是MBR部分出了问题,即使只是"55AA"标志字丢失或被改为其他值，通常都会出现"无效分区表"、逻辑盘丢失、启动死机等现象；而如果是PBR部分出了问题，通常会出现"未格式化的分区"的错误提示。')]),t._v(" "),a("p",[a("img",{attrs:{src:r(506),alt:"VG"}})])])}),[],!1,null,null,null);a.default=_.exports}}]);