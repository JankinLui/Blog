(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{574:function(s,a,n){"use strict";n.r(a);var e=n(2),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("swap分区在系统的物理内存不够用时，把硬盘的一部分空间释放出来，以供当前运行的程序使用。")]),s._v(" "),a("blockquote",[a("p",[s._v("临时使用，")]),s._v(" "),a("p",[s._v("如果swap分区都不够了还是直接加内存吧")])]),s._v(" "),a("h2",{attrs:{id:"第一章-步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章-步骤"}},[s._v("#")]),s._v(" 第一章 步骤")]),s._v(" "),a("p",[s._v("mkswap /devices（可以是分区地址，也可以是文件）　　格式化成swap分区")]),s._v(" "),a("p",[s._v("swapon /devices（可以是分区地址，也可以是文件）　　激活/swap，加入到swap分区中")]),s._v(" "),a("p",[s._v("vim /etc/fstab（添加开机自动添加到swap分区），追加/devices swap swap defaults 0 0")]),s._v(" "),a("h2",{attrs:{id:"第二章-实际操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-实际操作"}},[s._v("#")]),s._v(" 第二章 实际操作")]),s._v(" "),a("h3",{attrs:{id:"_2-1-通过分区扩展swap分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-通过分区扩展swap分区"}},[s._v("#")]),s._v(" 2.1 通过分区扩展swap分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@xuexi ~]# fdisk /dev/sdb//新建一个分区\nWARNING: fdisk GPT support is currently new, and therefore in an experimental phase. Use at your own discretion.\n欢迎使用 fdisk (util-linux 2.23.2)。\n\t \n更改将停留在内存中，直到您决定将更改写入磁盘。\n使用写入命令前请三思。\n \n \n命令(输入 m 获取帮助)：n\n分区号 (1-128，默认 1)：\n第一个扇区 (34-4194270，默认 2048)：\nLast sector, +sectors or +size{K,M,G,T,P} (2048-4194270，默认 4194270)：+1G\n已创建分区 1\n \n \n命令(输入 m 获取帮助)：w\nThe partition table has been altered!\n \nCalling ioctl() to re-read partition table.\n正在同步磁盘。\n[root@xuexi ~]# mkswap /dev/sdb1//格式化成swap分区\nmkswap: /dev/sdb1: warning: wiping old xfs signature.\n正在设置交换空间版本 1，大小 = 1048572 KiB\n无标签，UUID=b99f3b95-35ba-4161-9c6c-a616665be0da\n[root@xuexi ~]# free -m//查看\n              total        used        free      shared  buff/cache   available\nMem:           1980         692         589          13         697        1062\nSwap:          2047           0        2047\n[root@xuexi ~]# swapon /dev/sdb1//激活并加入到swap分区\n[root@xuexi ~]# free -m\n              total        used        free      shared  buff/cache   available\nMem:           1980         691         591          13         697        1063\nSwap:          3071           0        3071\n[root@xuexi ~]# swapoff /dev/sdb1//关闭\n[root@xuexi ~]# free -m\n              total        used        free      shared  buff/cache   available\nMem:           1980         691         592          13         697        1064\nSwap:          2047           0        2047\n[root@xuexi ~]# swapon -s//查看swap分区里存在哪些分区或文件\n文件名             类型      大小  已用  权限\n/dev/sda2                               partition   2097148 0   -2\n[root@xuexi ~]#\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("h3",{attrs:{id:"_2-2-通过文件扩展swap分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-通过文件扩展swap分区"}},[s._v("#")]),s._v(" 2.2 通过文件扩展swap分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@xuexi ~]# dd if=/dev/zero of=swap_file bs=1M count=500//创建一个500M的空文件\n记录了500+0 的读入\n记录了500+0 的写出\n524288000字节(524 MB)已复制，3.68587 秒，142 MB/秒\n[root@xuexi ~]# mkswap swap_file//格式化成swap\n正在设置交换空间版本 1，大小 = 511996 KiB\n无标签，UUID=ebb5b2ef-04b0-4632-9a5f-91ee1fb8a47f\n[root@xuexi ~]# free -m//查看\n              total        used        free      shared  buff/cache   available\nMem:           1980         696         139          13        1144        1051\nSwap:          2047           0        2047\n[root@xuexi ~]# swapon swap_file//激活并加入到swap分区\nswapon: /root/swap_file：不安全的权限 0644，建议使用 0600。\n[root@xuexi ~]# free -m//可以看到实际上已经添加了，报错只是权限问题\n              total        used        free      shared  buff/cache   available\nMem:           1980         697         137          13        1145        1050\nSwap:          2547           0        2547\n[root@xuexi ~]# chmod 0600 swap_file//按照提示修改下权限\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);